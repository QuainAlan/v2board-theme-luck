import { s as shouldUseMobileLayout, w as watchDeviceChange } from "./CyyeJu8R.js";
import { k as defineComponent, $ as createElementBlock, U as openBlock, a0 as createBaseVNode, r as ref, c as computed, R as createBlock, V as withCtx, l as withDirectives, j as createTextVNode, a8 as vModelText, a6 as withKeys, a3 as createCommentVNode, a2 as toDisplayString, aa as useRoute, o as onMounted, L as normalizeClass, F as Fragment, I as normalizeStyle, a1 as createStaticVNode, Q as renderList, N as unref, a5 as useRouter, S as resolveComponent, W as createVNode, a7 as withModifiers, v as vShow, a4 as resolveDynamicComponent, E as onUnmounted } from "./DM1yaN1X.js";
import { a as apiClient, u as useAuthStore } from "./BBbuoBq5.js";
import { D as DesktopModal } from "./3u1s8V6K.js";
import { u as useMessage, N as NIcon } from "./BEq_qS6Y.js";
import { _ as _export_sfc } from "./1tPrXgE0.js";
import { g as generateAvatar } from "./BnYRgqog.js";
import "./0I8bmyai.js";
const _hoisted_1$c = {
  xmlns: "http://www.w3.org/2000/svg",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  viewBox: "0 0 512 512"
};
const _hoisted_2$c = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M87.48 380c1.2-4.38-1.43-10.47-3.94-14.86a42.63 42.63 0 0 0-2.54-3.8a199.81 199.81 0 0 1-33-110C47.64 139.09 140.72 48 255.82 48C356.2 48 440 117.54 459.57 209.85a199 199 0 0 1 4.43 41.64c0 112.41-89.49 204.93-204.59 204.93c-18.31 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.14 31.14 0 0 0-11.13-2.07a30.7 30.7 0 0 0-12.08 2.43L81.5 462.78a15.92 15.92 0 0 1-4.66 1.22a9.61 9.61 0 0 1-9.58-9.74a15.85 15.85 0 0 1 .6-3.29z",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-miterlimit": "10",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_3$c = /* @__PURE__ */ createBaseVNode(
  "circle",
  {
    cx: "160",
    cy: "256",
    r: "32",
    fill: "currentColor"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_4$c = /* @__PURE__ */ createBaseVNode(
  "circle",
  {
    cx: "256",
    cy: "256",
    r: "32",
    fill: "currentColor"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_5$b = /* @__PURE__ */ createBaseVNode(
  "circle",
  {
    cx: "352",
    cy: "256",
    r: "32",
    fill: "currentColor"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_6$9 = [_hoisted_2$c, _hoisted_3$c, _hoisted_4$c, _hoisted_5$b];
const ChatbubbleEllipsesOutline = defineComponent({
  name: "ChatbubbleEllipsesOutline",
  render: function render(_ctx, _cache) {
    return openBlock(), createElementBlock("svg", _hoisted_1$c, _hoisted_6$9);
  }
});
const _hoisted_1$b = {
  xmlns: "http://www.w3.org/2000/svg",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  viewBox: "0 0 512 512"
};
const _hoisted_2$b = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M320 336h76c55 0 100-21.21 100-75.6s-53-73.47-96-75.6C391.11 99.74 329 48 256 48c-69 0-113.44 45.79-128 91.2c-60 5.7-112 35.88-112 98.4S70 336 136 336h56",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_3$b = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32",
    d: "M192 400.1l64 63.9l64-63.9"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_4$b = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32",
    d: "M256 224v224.03"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_5$a = [_hoisted_2$b, _hoisted_3$b, _hoisted_4$b];
const CloudDownloadOutline = defineComponent({
  name: "CloudDownloadOutline",
  render: function render2(_ctx, _cache) {
    return openBlock(), createElementBlock("svg", _hoisted_1$b, _hoisted_5$a);
  }
});
const _hoisted_1$a = {
  xmlns: "http://www.w3.org/2000/svg",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  viewBox: "0 0 512 512"
};
const _hoisted_2$a = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M416 221.25V416a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V96a48 48 0 0 1 48-48h98.75a32 32 0 0 1 22.62 9.37l141.26 141.26a32 32 0 0 1 9.37 22.62z",
    fill: "none",
    stroke: "currentColor",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_3$a = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M256 56v120a32 32 0 0 0 32 32h120",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_4$a = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32",
    d: "M176 288h160"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_5$9 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32",
    d: "M176 368h160"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_6$8 = [_hoisted_2$a, _hoisted_3$a, _hoisted_4$a, _hoisted_5$9];
const DocumentTextOutline = defineComponent({
  name: "DocumentTextOutline",
  render: function render3(_ctx, _cache) {
    return openBlock(), createElementBlock("svg", _hoisted_1$a, _hoisted_6$8);
  }
});
const _hoisted_1$9 = {
  xmlns: "http://www.w3.org/2000/svg",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  viewBox: "0 0 512 512"
};
const _hoisted_2$9 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_3$9 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_4$9 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32",
    d: "M400 179V64h-48v69"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_5$8 = [_hoisted_2$9, _hoisted_3$9, _hoisted_4$9];
const HomeOutline = defineComponent({
  name: "HomeOutline",
  render: function render4(_ctx, _cache) {
    return openBlock(), createElementBlock("svg", _hoisted_1$9, _hoisted_5$8);
  }
});
const _hoisted_1$8 = {
  xmlns: "http://www.w3.org/2000/svg",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  viewBox: "0 0 512 512"
};
const _hoisted_2$8 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_3$8 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M336 304c-65.17 0-127.84 32.37-143.54 95.41c-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z",
    fill: "none",
    stroke: "currentColor",
    "stroke-miterlimit": "10",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_4$8 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_5$7 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M206 306c-18.05-8.27-37.93-11.45-59-11.45c-52 0-102.1 25.85-114.65 76.2c-1.65 6.66 2.53 13.25 9.37 13.25H154",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-miterlimit": "10",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_6$7 = [_hoisted_2$8, _hoisted_3$8, _hoisted_4$8, _hoisted_5$7];
const PeopleOutline = defineComponent({
  name: "PeopleOutline",
  render: function render5(_ctx, _cache) {
    return openBlock(), createElementBlock("svg", _hoisted_1$8, _hoisted_6$7);
  }
});
const _hoisted_1$7 = {
  xmlns: "http://www.w3.org/2000/svg",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  viewBox: "0 0 512 512"
};
const _hoisted_2$7 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M376 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_3$7 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M288 304c-87 0-175.3 48-191.64 138.6c-2 10.92 4.21 21.4 15.65 21.4H464c11.44 0 17.62-10.48 15.65-21.4C463.3 352 375 304 288 304z",
    fill: "none",
    stroke: "currentColor",
    "stroke-miterlimit": "10",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_4$7 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32",
    d: "M88 176v112"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_5$6 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32",
    d: "M144 232H32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_6$6 = [_hoisted_2$7, _hoisted_3$7, _hoisted_4$7, _hoisted_5$6];
const PersonAddOutline = defineComponent({
  name: "PersonAddOutline",
  render: function render6(_ctx, _cache) {
    return openBlock(), createElementBlock("svg", _hoisted_1$7, _hoisted_6$6);
  }
});
const _hoisted_1$6 = {
  xmlns: "http://www.w3.org/2000/svg",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  viewBox: "0 0 512 512"
};
const _hoisted_2$6 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_3$6 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z",
    fill: "none",
    stroke: "currentColor",
    "stroke-miterlimit": "10",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_4$6 = [_hoisted_2$6, _hoisted_3$6];
const PersonOutline = defineComponent({
  name: "PersonOutline",
  render: function render7(_ctx, _cache) {
    return openBlock(), createElementBlock("svg", _hoisted_1$6, _hoisted_4$6);
  }
});
const _hoisted_1$5 = {
  xmlns: "http://www.w3.org/2000/svg",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  viewBox: "0 0 512 512"
};
const _hoisted_2$5 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    fill: "none",
    stroke: "currentColor",
    "stroke-linejoin": "round",
    "stroke-width": "32",
    d: "M160 336V48l32 16l32-16l31.94 16l32.37-16L320 64l31.79-16l31.93 16L416 48l32.01 16L480 48v224"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_3$5 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M480 272v112a80 80 0 0 1-80 80h0a80 80 0 0 1-80-80v-48H48a15.86 15.86 0 0 0-16 16c0 64 6.74 112 80 112h288",
    fill: "none",
    stroke: "currentColor",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_4$5 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32",
    d: "M224 144h192"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_5$5 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32",
    d: "M288 224h128"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_6$5 = [_hoisted_2$5, _hoisted_3$5, _hoisted_4$5, _hoisted_5$5];
const ReceiptOutline = defineComponent({
  name: "ReceiptOutline",
  render: function render8(_ctx, _cache) {
    return openBlock(), createElementBlock("svg", _hoisted_1$5, _hoisted_6$5);
  }
});
const _hoisted_1$4 = {
  xmlns: "http://www.w3.org/2000/svg",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  viewBox: "0 0 512 512"
};
const _hoisted_2$4 = /* @__PURE__ */ createBaseVNode(
  "ellipse",
  {
    cx: "256",
    cy: "128",
    rx: "192",
    ry: "80",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-miterlimit": "10",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_3$4 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M448 214c0 44.18-86 80-192 80S64 258.18 64 214",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-miterlimit": "10",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_4$4 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M448 300c0 44.18-86 80-192 80S64 344.18 64 300",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-miterlimit": "10",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_5$4 = /* @__PURE__ */ createBaseVNode(
  "path",
  {
    d: "M64 127.24v257.52C64 428.52 150 464 256 464s192-35.48 192-79.24V127.24",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-miterlimit": "10",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_6$4 = [_hoisted_2$4, _hoisted_3$4, _hoisted_4$4, _hoisted_5$4];
const ServerOutline = defineComponent({
  name: "ServerOutline",
  render: function render9(_ctx, _cache) {
    return openBlock(), createElementBlock("svg", _hoisted_1$4, _hoisted_6$4);
  }
});
const _hoisted_1$3 = {
  xmlns: "http://www.w3.org/2000/svg",
  "xmlns:xlink": "http://www.w3.org/1999/xlink",
  viewBox: "0 0 512 512"
};
const _hoisted_2$3 = /* @__PURE__ */ createBaseVNode(
  "rect",
  {
    x: "64",
    y: "320",
    width: "48",
    height: "160",
    rx: "8",
    ry: "8",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_3$3 = /* @__PURE__ */ createBaseVNode(
  "rect",
  {
    x: "288",
    y: "224",
    width: "48",
    height: "256",
    rx: "8",
    ry: "8",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_4$3 = /* @__PURE__ */ createBaseVNode(
  "rect",
  {
    x: "400",
    y: "112",
    width: "48",
    height: "368",
    rx: "8",
    ry: "8",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_5$3 = /* @__PURE__ */ createBaseVNode(
  "rect",
  {
    x: "176",
    y: "32",
    width: "48",
    height: "448",
    rx: "8",
    ry: "8",
    fill: "none",
    stroke: "currentColor",
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    "stroke-width": "32"
  },
  null,
  -1
  /* HOISTED */
);
const _hoisted_6$3 = [_hoisted_2$3, _hoisted_3$3, _hoisted_4$3, _hoisted_5$3];
const StatsChartOutline = defineComponent({
  name: "StatsChartOutline",
  render: function render10(_ctx, _cache) {
    return openBlock(), createElementBlock("svg", _hoisted_1$3, _hoisted_6$3);
  }
});
const _hoisted_1$2 = { class: "giftcard-redeem-content" };
const _hoisted_2$2 = { class: "input-section" };
const _hoisted_3$2 = ["disabled"];
const _hoisted_4$2 = { class: "modal-footer" };
const _hoisted_5$2 = ["disabled"];
const _hoisted_6$2 = ["disabled"];
const _hoisted_7$2 = {
  key: 0,
  class: "loading-spinner"
};
const _sfc_main$3 = /* @__PURE__ */ defineComponent({
  __name: "GiftcardRedeemModal",
  props: {
    show: { type: Boolean }
  },
  emits: ["update:show", "success"],
  setup(__props, { emit: __emit }) {
    const props = __props;
    const emit = __emit;
    const message = useMessage();
    const giftcardCode = ref("");
    const redeeming = ref(false);
    const showModal = computed({
      get: () => props.show,
      set: (value) => emit("update:show", value)
    });
    const handleClose = () => {
      if (!redeeming.value) {
        giftcardCode.value = "";
        emit("update:show", false);
      }
    };
    const translateErrorMessage = (message2) => {
      const translations = {
        "The gift card has already been used by this user": "该礼品卡已被您使用过",
        "The gift card does not exist": "礼品卡不存在",
        "The gift card is not yet valid": "礼品卡尚未生效",
        "The gift card has expired": "礼品卡已过期",
        "The gift card usage limit has been reached": "礼品卡使用次数已达上限",
        "Not suitable gift card type": "礼品卡类型不适用",
        "Unknown gift card type": "未知的礼品卡类型",
        "Save failed": "保存失败",
        "The user does not exist": "用户不存在"
      };
      return translations[message2] || message2;
    };
    const handleRedeem = async () => {
      var _a, _b;
      if (!giftcardCode.value.trim()) {
        message.warning("请输入礼品卡卡密");
        return;
      }
      if (redeeming.value) return;
      try {
        redeeming.value = true;
        const response = await apiClient.redeemGiftcard(giftcardCode.value.trim());
        if (response.data) {
          const typeMessages = {
            1: `成功兑换 ¥${(response.value / 100).toFixed(2)} 余额`,
            2: `成功延长 ${response.value} 天有效期`,
            3: `成功增加 ${response.value}GB 流量`,
            4: "成功重置已用流量",
            5: `成功激活 ${response.value} 天套餐`
          };
          const successMessage = typeMessages[response.type] || "礼品卡兑换成功";
          message.success(successMessage);
          emit("success", { type: response.type, value: response.value });
          handleClose();
        }
      } catch (error) {
        console.error("礼品卡兑换失败:", error);
        let errorMessage = "兑换失败，请稍后重试";
        if ((_b = (_a = error.response) == null ? void 0 : _a.data) == null ? void 0 : _b.message) {
          errorMessage = translateErrorMessage(error.response.data.message);
        } else if (error.message) {
          errorMessage = translateErrorMessage(error.message);
        }
        message.error(errorMessage);
      } finally {
        redeeming.value = false;
      }
    };
    return (_ctx, _cache) => {
      return openBlock(), createBlock(DesktopModal, {
        show: showModal.value,
        "onUpdate:show": _cache[1] || (_cache[1] = ($event) => showModal.value = $event),
        title: "礼品卡兑换",
        width: 480,
        onClose: handleClose
      }, {
        footer: withCtx(() => [
          createBaseVNode("div", _hoisted_4$2, [
            createBaseVNode("button", {
              class: "btn-base btn-large btn-danger",
              onClick: handleClose,
              disabled: redeeming.value
            }, " 取消 ", 8, _hoisted_5$2),
            createBaseVNode("button", {
              class: "btn-base btn-large btn-primary",
              onClick: handleRedeem,
              disabled: !giftcardCode.value.trim() || redeeming.value
            }, [
              redeeming.value ? (openBlock(), createElementBlock("div", _hoisted_7$2)) : createCommentVNode("", true),
              createTextVNode(" " + toDisplayString(redeeming.value ? "兑换中..." : "立即兑换"), 1)
            ], 8, _hoisted_6$2)
          ])
        ]),
        default: withCtx(() => [
          createBaseVNode("div", _hoisted_1$2, [
            createBaseVNode("div", _hoisted_2$2, [
              _cache[2] || (_cache[2] = createBaseVNode("div", { class: "input-label" }, [
                createBaseVNode("svg", {
                  width: "20",
                  height: "20",
                  viewBox: "0 0 24 24",
                  fill: "none",
                  stroke: "currentColor",
                  "stroke-width": "2",
                  "stroke-linecap": "round",
                  "stroke-linejoin": "round",
                  class: "input-icon"
                }, [
                  createBaseVNode("rect", {
                    x: "3",
                    y: "8",
                    width: "18",
                    height: "4",
                    rx: "1"
                  }),
                  createBaseVNode("path", { d: "M12 8v13" }),
                  createBaseVNode("path", { d: "M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7" }),
                  createBaseVNode("path", { d: "M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5" })
                ]),
                createTextVNode(" 礼品卡卡密 ")
              ], -1)),
              withDirectives(createBaseVNode("input", {
                "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => giftcardCode.value = $event),
                type: "text",
                placeholder: "请输入礼品卡卡密",
                class: "giftcard-input",
                disabled: redeeming.value,
                onKeyup: withKeys(handleRedeem, ["enter"])
              }, null, 40, _hoisted_3$2), [
                [vModelText, giftcardCode.value]
              ]),
              _cache[3] || (_cache[3] = createBaseVNode("div", { class: "input-hint" }, " 请输入16位礼品卡卡密，不区分大小写 ", -1))
            ]),
            _cache[4] || (_cache[4] = createBaseVNode("div", { class: "info-section" }, [
              createBaseVNode("div", { class: "info-title" }, [
                createBaseVNode("svg", {
                  width: "16",
                  height: "16",
                  viewBox: "0 0 24 24",
                  fill: "none",
                  stroke: "currentColor",
                  "stroke-width": "2",
                  "stroke-linecap": "round",
                  "stroke-linejoin": "round",
                  class: "info-icon"
                }, [
                  createBaseVNode("circle", {
                    cx: "12",
                    cy: "12",
                    r: "10"
                  }),
                  createBaseVNode("path", { d: "M12 16v-4" }),
                  createBaseVNode("path", { d: "M12 8h.01" })
                ]),
                createTextVNode(" 礼品卡类型说明 ")
              ]),
              createBaseVNode("div", { class: "info-list" }, [
                createBaseVNode("div", { class: "info-item" }, [
                  createBaseVNode("span", { class: "type-badge balance" }, "余额"),
                  createBaseVNode("span", { class: "type-desc" }, "增加账户余额")
                ]),
                createBaseVNode("div", { class: "info-item" }, [
                  createBaseVNode("span", { class: "type-badge duration" }, "时长"),
                  createBaseVNode("span", { class: "type-desc" }, "延长套餐有效期")
                ]),
                createBaseVNode("div", { class: "info-item" }, [
                  createBaseVNode("span", { class: "type-badge traffic" }, "流量"),
                  createBaseVNode("span", { class: "type-desc" }, "增加可用流量")
                ]),
                createBaseVNode("div", { class: "info-item" }, [
                  createBaseVNode("span", { class: "type-badge reset" }, "重置"),
                  createBaseVNode("span", { class: "type-desc" }, "重置已用流量")
                ]),
                createBaseVNode("div", { class: "info-item" }, [
                  createBaseVNode("span", { class: "type-badge plan" }, "套餐"),
                  createBaseVNode("span", { class: "type-desc" }, "激活指定套餐")
                ])
              ])
            ], -1))
          ])
        ]),
        _: 1
      }, 8, ["show"]);
    };
  }
});
const GiftcardRedeemModal = /* @__PURE__ */ _export_sfc(_sfc_main$3, [["__scopeId", "data-v-1ed61e38"]]);
const _hoisted_1$1 = { class: "sidebar-header" };
const _hoisted_2$1 = { class: "sidebar-header-content" };
const _hoisted_3$1 = {
  key: 0,
  class: "collapsed-logo"
};
const _hoisted_4$1 = { class: "app-title-full" };
const _hoisted_5$1 = ["src", "alt"];
const _hoisted_6$1 = ["src", "alt"];
const _hoisted_7$1 = {
  key: 2,
  class: "text-logo"
};
const _hoisted_8$1 = {
  key: 3,
  class: "logo-icon"
};
const _hoisted_9$1 = {
  key: 0,
  class: "brand-text"
};
const _hoisted_10$1 = { class: "sidebar-menu" };
const _hoisted_11$1 = { class: "menu-section" };
const _hoisted_12$1 = {
  key: 0,
  class: "menu-section-title"
};
const _hoisted_13$1 = ["onClick"];
const _hoisted_14$1 = { class: "menu-item-content" };
const _hoisted_15$1 = { class: "menu-icon" };
const _hoisted_16$1 = {
  key: 0,
  class: "menu-label"
};
const _hoisted_17$1 = {
  key: 0,
  class: "menu-children"
};
const _hoisted_18$1 = ["onClick"];
const _hoisted_19$1 = { class: "collapse-btn-inner" };
const _hoisted_20$1 = { class: "main-area" };
const _hoisted_21$1 = { class: "top-header" };
const _hoisted_22$1 = { class: "header-content" };
const _hoisted_23$1 = { class: "header-left" };
const _hoisted_24$1 = { class: "ios-page-header" };
const _hoisted_25$1 = { class: "page-title-container" };
const _hoisted_26$1 = { class: "page-title" };
const _hoisted_27$1 = { class: "page-subtitle" };
const _hoisted_28 = { class: "page-breadcrumb" };
const _hoisted_29 = { class: "breadcrumb-current" };
const _hoisted_30 = { class: "header-right" };
const _hoisted_31 = { class: "header-actions" };
const _hoisted_32 = { class: "user-avatar" };
const _hoisted_33 = ["src"];
const _hoisted_34 = { class: "user-info" };
const _hoisted_35 = { class: "user-name" };
const _hoisted_36 = { class: "page-content" };
const _hoisted_37 = { class: "ios-content-container" };
const _hoisted_38 = { class: "content-wrapper" };
const _hoisted_39 = { class: "dropdown-header" };
const _hoisted_40 = { class: "user-avatar-large" };
const _hoisted_41 = ["src"];
const _hoisted_42 = { class: "user-details" };
const _hoisted_43 = { class: "user-email" };
const _hoisted_44 = { class: "user-balance" };
const _hoisted_45 = { class: "dropdown-menu" };
const _sfc_main$2 = /* @__PURE__ */ defineComponent({
  __name: "DashboardLayout",
  setup(__props) {
    const router = useRouter();
    const route = useRoute();
    useMessage();
    const authStore = useAuthStore();
    const collapsed = ref(false);
    const showUserDropdown = ref(false);
    const showGiftcardModal = ref(false);
    const logoConfig = computed(() => {
      var _a;
      return ((_a = window.V2BOARD_CONFIG) == null ? void 0 : _a.LOGO) || {
        IMAGE_URL: "",
        FALLBACK_IMAGE_URL: "",
        ALT_TEXT: "Logo",
        CLICK_URL: "",
        OPEN_IN_NEW_TAB: false,
        MAX_WIDTH: 200,
        MAX_HEIGHT: 82,
        SHOW_TEXT_LOGO: false,
        TEXT_LOGO: "",
        TEXT_LOGO_FONT_SIZE: 24,
        TEXT_LOGO_FONT_WEIGHT: "600",
        TEXT_LOGO_COLOR: "#1d1d1f",
        SHOW_TEXT: false,
        TEXT: "",
        FONT_SIZE: 13,
        FONT_FAMILY: "Inter"
      };
    });
    const brandText = computed(() => {
      return logoConfig.value.TEXT || "";
    });
    const appTitle = computed(() => {
      var _a;
      return ((_a = window.V2BOARD_CONFIG) == null ? void 0 : _a.APP_TITLE) || "V2Board";
    });
    const getFontClass = () => {
      const fontFamily = logoConfig.value.FONT_FAMILY || "Inter";
      const fontClassMap = {
        "Inter": "font-inter",
        "SF Pro": "font-sf-pro",
        "Poppins": "font-poppins",
        "Nunito": "font-nunito",
        "Montserrat": "font-montserrat",
        "Roboto": "font-roboto",
        "Open Sans": "font-open-sans",
        "Lato": "font-lato",
        "Source Sans Pro": "font-source-sans-pro",
        "Fira Sans": "font-fira-sans"
      };
      return fontClassMap[fontFamily] || "font-inter";
    };
    const showFallback = ref(false);
    const fallbackImg = ref();
    const handleImageError = () => {
      showFallback.value = true;
      if (fallbackImg.value) {
        fallbackImg.value.style.display = "block";
      }
    };
    const handleImageLoad = () => {
      showFallback.value = false;
    };
    const handleFallbackError = () => {
      showFallback.value = false;
    };
    const handleLogoClick = () => {
      if (logoConfig.value.CLICK_URL) {
        if (logoConfig.value.OPEN_IN_NEW_TAB) {
          window.open(logoConfig.value.CLICK_URL, "_blank");
        } else {
          window.location.href = logoConfig.value.CLICK_URL;
        }
      }
    };
    const activeKey = computed(() => route.name);
    const isGiftcardEnabled = computed(() => {
      var _a, _b;
      return ((_b = (_a = window.V2BOARD_CONFIG) == null ? void 0 : _a.FEATURES) == null ? void 0 : _b.GIFTCARD_ENABLED) !== false;
    });
    const isInviteEnabled = computed(() => {
      var _a, _b;
      return ((_b = (_a = window.V2BOARD_CONFIG) == null ? void 0 : _a.FEATURES) == null ? void 0 : _b.INVITE_ENABLED) !== false;
    });
    const isTicketEnabled = computed(() => {
      var _a, _b;
      return ((_b = (_a = window.V2BOARD_CONFIG) == null ? void 0 : _a.FEATURES) == null ? void 0 : _b.TICKET_ENABLED) !== false;
    });
    const isTrafficDetailsEnabled = computed(() => {
      var _a, _b;
      return ((_b = (_a = window.V2BOARD_CONFIG) == null ? void 0 : _a.FEATURES) == null ? void 0 : _b.TRAFFIC_DETAILS_ENABLED) !== false;
    });
    const toggleSidebar = () => {
      collapsed.value = !collapsed.value;
    };
    const userAvatar = computed(() => {
      var _a;
      const email = ((_a = authStore.user) == null ? void 0 : _a.email) || "";
      return generateAvatar(email, 32);
    });
    const userAvatarLarge = computed(() => {
      var _a;
      const email = ((_a = authStore.user) == null ? void 0 : _a.email) || "";
      return generateAvatar(email, 64);
    });
    const pageConfig = computed(() => {
      const configMap = {
        "Dashboard": {
          title: "仪表板",
          subtitle: "账户概览与服务状态"
        },
        "Plans": {
          title: "订阅方案",
          subtitle: "选择最适合您的服务套餐"
        },
        "PurchasePlan": {
          title: "购买套餐",
          subtitle: "完成您的订阅购买"
        },
        "Servers": {
          title: "服务器",
          subtitle: "全球节点实时状态监控"
        },
        "Orders": {
          title: "订单",
          subtitle: "交易记录与订单管理"
        },
        "Tickets": {
          title: "工单",
          subtitle: "技术支持与问题反馈"
        },
        "TrafficDetails": {
          title: "流量统计",
          subtitle: "详细的使用数据分析"
        },
        "Invite": {
          title: "邀请",
          subtitle: "推广奖励与佣金管理"
        },
        "Profile": {
          title: "个人资料",
          subtitle: "账户设置与安全管理"
        },
        "Docs": {
          title: "文档",
          subtitle: "使用指南与帮助中心"
        }
      };
      return configMap[route.name] || { title: "页面", subtitle: "加载中..." };
    });
    const currentPageTitle = computed(() => pageConfig.value.title);
    const currentPageSubtitle = computed(() => pageConfig.value.subtitle);
    const menuOptions = [
      {
        label: "首页",
        key: "Dashboard",
        icon: HomeOutline
      },
      {
        label: "订阅套餐",
        key: "Plans",
        icon: CloudDownloadOutline
      },
      {
        label: "节点列表",
        key: "Servers",
        icon: ServerOutline
      },
      {
        label: "订单管理",
        key: "Orders",
        icon: ReceiptOutline
      },
      {
        label: "工单系统",
        key: "Tickets",
        icon: ChatbubbleEllipsesOutline
      },
      {
        label: "流量明细",
        key: "TrafficDetails",
        icon: StatsChartOutline
      },
      {
        label: "邀请推广",
        key: "Invite",
        icon: PeopleOutline
      },
      {
        label: "个人资料",
        key: "Profile",
        icon: PersonOutline
      },
      {
        label: "使用文档",
        key: "Docs",
        icon: DocumentTextOutline
      }
    ];
    const handleMenuClick = (item) => {
      if (item.children) {
        return;
      }
      handleMenuSelect(item.key);
    };
    const handleMenuSelect = (key) => {
      if (key && key !== "subscription-group") {
        router.push({ name: key });
      }
    };
    const handleUserMenuSelect = (key) => {
      showUserDropdown.value = false;
      switch (key) {
        case "profile":
          router.push({ name: "Profile" });
          break;
        case "logout":
          authStore.logout();
          router.push("/login");
          break;
      }
    };
    const handleGiftcardSuccess = async (data) => {
      try {
        await authStore.fetchUserInfo();
      } catch (error) {
        console.error("刷新用户信息失败:", error);
      }
    };
    const formatMoney = (amount) => {
      if (!amount) return "0.00";
      return (amount / 100).toFixed(2);
    };
    onMounted(() => {
    });
    return (_ctx, _cache) => {
      var _a, _b, _c;
      const _component_n_tooltip = resolveComponent("n-tooltip");
      const _component_router_view = resolveComponent("router-view");
      return openBlock(), createElementBlock(Fragment, null, [
        createBaseVNode("div", {
          class: "dashboard-app",
          style: normalizeStyle({ "--sidebar-width": collapsed.value ? "80px" : "280px", "--header-height": "72px" })
        }, [
          createBaseVNode("div", {
            class: normalizeClass(["sidebar", { "collapsed": collapsed.value }])
          }, [
            createBaseVNode("div", _hoisted_1$1, [
              createBaseVNode("div", _hoisted_2$1, [
                createBaseVNode("div", {
                  class: "logo-section",
                  onClick: handleLogoClick
                }, [
                  collapsed.value ? (openBlock(), createElementBlock("div", _hoisted_3$1, [
                    createBaseVNode("div", _hoisted_4$1, toDisplayString(appTitle.value), 1)
                  ])) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                    logoConfig.value.IMAGE_URL ? (openBlock(), createElementBlock("img", {
                      key: 0,
                      src: logoConfig.value.IMAGE_URL,
                      alt: logoConfig.value.ALT_TEXT,
                      style: normalizeStyle({
                        maxWidth: logoConfig.value.MAX_WIDTH + "px !important",
                        maxHeight: logoConfig.value.MAX_HEIGHT + "px !important"
                      }),
                      onError: handleImageError,
                      onLoad: handleImageLoad,
                      class: "logo-img"
                    }, null, 44, _hoisted_5$1)) : showFallback.value && logoConfig.value.FALLBACK_IMAGE_URL ? (openBlock(), createElementBlock("img", {
                      key: 1,
                      ref_key: "fallbackImg",
                      ref: fallbackImg,
                      src: logoConfig.value.FALLBACK_IMAGE_URL,
                      alt: logoConfig.value.ALT_TEXT,
                      style: normalizeStyle({
                        maxWidth: logoConfig.value.MAX_WIDTH + "px !important",
                        maxHeight: logoConfig.value.MAX_HEIGHT + "px !important"
                      }),
                      onError: handleFallbackError,
                      class: "logo-img"
                    }, null, 44, _hoisted_6$1)) : logoConfig.value.SHOW_TEXT_LOGO && logoConfig.value.TEXT_LOGO ? (openBlock(), createElementBlock("div", _hoisted_7$1, [
                      createBaseVNode("div", {
                        class: normalizeClass(["text-logo-content", getFontClass()]),
                        style: normalizeStyle({
                          fontSize: logoConfig.value.TEXT_LOGO_FONT_SIZE + "px",
                          fontWeight: logoConfig.value.TEXT_LOGO_FONT_WEIGHT,
                          color: logoConfig.value.TEXT_LOGO_COLOR
                        })
                      }, toDisplayString(logoConfig.value.TEXT_LOGO), 7)
                    ])) : logoConfig.value.IMAGE_URL || logoConfig.value.FALLBACK_IMAGE_URL ? (openBlock(), createElementBlock("div", _hoisted_8$1, _cache[8] || (_cache[8] = [
                      createStaticVNode('<svg width="40" height="40" viewBox="0 0 40 40" fill="none" class="logo-svg" data-v-3b39f767><defs data-v-3b39f767><linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%" data-v-3b39f767><stop offset="0%" style="stop-color:#667eea;" data-v-3b39f767></stop><stop offset="100%" style="stop-color:#764ba2;" data-v-3b39f767></stop></linearGradient><filter id="logoShadow" x="-50%" y="-50%" width="200%" height="200%" data-v-3b39f767><feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="rgba(102, 126, 234, 0.3)" data-v-3b39f767></feDropShadow></filter></defs><circle cx="20" cy="20" r="16" fill="url(#logoGradient)" filter="url(#logoShadow)" data-v-3b39f767></circle><g transform="translate(20, 20)" data-v-3b39f767><path d="M-8 -4 L8 -4 L6 0 L-6 0 Z" fill="rgba(255,255,255,0.9)" opacity="0.9" data-v-3b39f767></path><path d="M-6 2 L6 2 L4 6 L-4 6 Z" fill="rgba(255,255,255,0.7)" opacity="0.8" data-v-3b39f767></path><path d="M-4 8 L4 8" stroke="rgba(255,255,255,0.6)" stroke-width="2" stroke-linecap="round" data-v-3b39f767></path></g><circle cx="20" cy="20" r="18" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="1" opacity="0.5" data-v-3b39f767></circle></svg>', 1)
                    ]))) : createCommentVNode("", true)
                  ], 64))
                ]),
                !collapsed.value && logoConfig.value.SHOW_TEXT && logoConfig.value.TEXT ? (openBlock(), createElementBlock("div", _hoisted_9$1, [
                  createBaseVNode("div", {
                    class: normalizeClass(["brand-text-content", getFontClass()]),
                    style: normalizeStyle({ fontSize: (logoConfig.value.FONT_SIZE || 13) + "px" })
                  }, toDisplayString(brandText.value), 7)
                ])) : createCommentVNode("", true)
              ])
            ]),
            createBaseVNode("div", _hoisted_10$1, [
              createBaseVNode("div", _hoisted_11$1, [
                !collapsed.value ? (openBlock(), createElementBlock("div", _hoisted_12$1, "主要功能")) : createCommentVNode("", true),
                (openBlock(), createElementBlock(Fragment, null, renderList(menuOptions, (item) => {
                  return withDirectives(createBaseVNode("div", {
                    key: item.key,
                    class: normalizeClass(["menu-item", { "active": activeKey.value === item.key, "has-children": item.children }]),
                    onClick: ($event) => handleMenuClick(item)
                  }, [
                    createBaseVNode("div", _hoisted_14$1, [
                      createBaseVNode("div", _hoisted_15$1, [
                        (openBlock(), createBlock(resolveDynamicComponent(item.icon)))
                      ]),
                      !collapsed.value ? (openBlock(), createElementBlock("span", _hoisted_16$1, toDisplayString(item.label), 1)) : createCommentVNode("", true)
                    ]),
                    item.children && !collapsed.value ? (openBlock(), createElementBlock("div", _hoisted_17$1, [
                      (openBlock(true), createElementBlock(Fragment, null, renderList(item.children, (child) => {
                        return openBlock(), createElementBlock("div", {
                          key: child.key,
                          class: normalizeClass(["menu-child-item", { "active": activeKey.value === child.key }]),
                          onClick: withModifiers(($event) => handleMenuSelect(child.key), ["stop"])
                        }, toDisplayString(child.label), 11, _hoisted_18$1);
                      }), 128))
                    ])) : createCommentVNode("", true)
                  ], 10, _hoisted_13$1), [
                    [vShow, (item.key !== "Invite" || isInviteEnabled.value) && (item.key !== "Tickets" || isTicketEnabled.value) && (item.key !== "TrafficDetails" || isTrafficDetailsEnabled.value)]
                  ]);
                }), 64))
              ])
            ]),
            createBaseVNode("div", {
              class: "floating-collapse-btn",
              onClick: toggleSidebar
            }, [
              createBaseVNode("div", _hoisted_19$1, [
                (openBlock(), createElementBlock("svg", {
                  width: "16",
                  height: "16",
                  viewBox: "0 0 24 24",
                  fill: "none",
                  class: normalizeClass({ "rotated": collapsed.value })
                }, _cache[9] || (_cache[9] = [
                  createBaseVNode("path", {
                    d: "M15 18L9 12L15 6",
                    stroke: "currentColor",
                    "stroke-width": "2",
                    "stroke-linecap": "round",
                    "stroke-linejoin": "round"
                  }, null, -1)
                ]), 2))
              ]),
              createBaseVNode("div", {
                class: normalizeClass(["collapse-tooltip", { "show": !collapsed.value }])
              }, toDisplayString(collapsed.value ? "展开" : "收起"), 3)
            ])
          ], 2),
          createBaseVNode("div", _hoisted_20$1, [
            createBaseVNode("div", _hoisted_21$1, [
              createBaseVNode("div", _hoisted_22$1, [
                createBaseVNode("div", _hoisted_23$1, [
                  createBaseVNode("div", _hoisted_24$1, [
                    createBaseVNode("div", _hoisted_25$1, [
                      createBaseVNode("h1", _hoisted_26$1, toDisplayString(currentPageTitle.value), 1),
                      createBaseVNode("div", _hoisted_27$1, toDisplayString(currentPageSubtitle.value), 1),
                      createBaseVNode("div", _hoisted_28, [
                        createBaseVNode("span", {
                          class: "breadcrumb-home",
                          onClick: _cache[0] || (_cache[0] = ($event) => unref(router).push({ name: "Dashboard" }))
                        }, " 首页 "),
                        _cache[10] || (_cache[10] = createBaseVNode("span", { class: "breadcrumb-chevron" }, [
                          createBaseVNode("svg", {
                            width: "12",
                            height: "12",
                            viewBox: "0 0 24 24",
                            fill: "none"
                          }, [
                            createBaseVNode("path", {
                              d: "M9 18L15 12L9 6",
                              stroke: "currentColor",
                              "stroke-width": "2",
                              "stroke-linecap": "round",
                              "stroke-linejoin": "round"
                            })
                          ])
                        ], -1)),
                        createBaseVNode("span", _hoisted_29, toDisplayString(currentPageTitle.value), 1)
                      ])
                    ])
                  ])
                ]),
                createBaseVNode("div", _hoisted_30, [
                  createBaseVNode("div", _hoisted_31, [
                    isGiftcardEnabled.value ? (openBlock(), createBlock(_component_n_tooltip, {
                      key: 0,
                      trigger: "hover",
                      placement: "bottom",
                      delay: 300,
                      duration: 200
                    }, {
                      trigger: withCtx(() => [
                        createBaseVNode("button", {
                          class: "header-btn giftcard-btn",
                          onClick: _cache[1] || (_cache[1] = ($event) => showGiftcardModal.value = true)
                        }, _cache[11] || (_cache[11] = [
                          createBaseVNode("div", { class: "giftcard-btn-content" }, [
                            createBaseVNode("svg", {
                              width: "18",
                              height: "18",
                              viewBox: "0 0 24 24",
                              fill: "none",
                              stroke: "currentColor",
                              "stroke-width": "2",
                              "stroke-linecap": "round",
                              "stroke-linejoin": "round",
                              class: "giftcard-icon"
                            }, [
                              createBaseVNode("rect", {
                                x: "3",
                                y: "8",
                                width: "18",
                                height: "4",
                                rx: "1"
                              }),
                              createBaseVNode("path", { d: "M12 8v13" }),
                              createBaseVNode("path", { d: "M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7" }),
                              createBaseVNode("path", { d: "M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5" })
                            ]),
                            createBaseVNode("span", { class: "giftcard-text" }, "兑换礼品卡")
                          ], -1)
                        ]))
                      ]),
                      default: withCtx(() => [
                        _cache[12] || (_cache[12] = createTextVNode(" 礼品卡兑换 "))
                      ]),
                      _: 1,
                      __: [12]
                    })) : createCommentVNode("", true),
                    createBaseVNode("div", {
                      class: "user-menu",
                      onClick: _cache[2] || (_cache[2] = ($event) => showUserDropdown.value = !showUserDropdown.value)
                    }, [
                      createBaseVNode("div", _hoisted_32, [
                        createBaseVNode("img", {
                          src: userAvatar.value,
                          alt: "用户头像"
                        }, null, 8, _hoisted_33)
                      ]),
                      createBaseVNode("div", _hoisted_34, [
                        createBaseVNode("div", _hoisted_35, toDisplayString(((_a = unref(authStore).user) == null ? void 0 : _a.email) || "用户"), 1),
                        _cache[13] || (_cache[13] = createBaseVNode("div", { class: "user-role" }, "管理员", -1))
                      ]),
                      _cache[14] || (_cache[14] = createBaseVNode("svg", {
                        width: "16",
                        height: "16",
                        viewBox: "0 0 24 24",
                        fill: "none",
                        class: "dropdown-arrow"
                      }, [
                        createBaseVNode("path", {
                          d: "M6 9L12 15L18 9",
                          stroke: "currentColor",
                          "stroke-width": "2",
                          "stroke-linecap": "round",
                          "stroke-linejoin": "round"
                        })
                      ], -1))
                    ])
                  ])
                ])
              ])
            ]),
            createBaseVNode("div", _hoisted_36, [
              createBaseVNode("div", _hoisted_37, [
                createBaseVNode("div", _hoisted_38, [
                  createVNode(_component_router_view)
                ])
              ])
            ])
          ]),
          showUserDropdown.value ? (openBlock(), createElementBlock("div", {
            key: 0,
            class: "user-dropdown-overlay",
            onClick: _cache[6] || (_cache[6] = ($event) => showUserDropdown.value = false)
          }, [
            createBaseVNode("div", {
              class: "user-dropdown",
              onClick: _cache[5] || (_cache[5] = withModifiers(() => {
              }, ["stop"]))
            }, [
              createBaseVNode("div", _hoisted_39, [
                createBaseVNode("div", _hoisted_40, [
                  createBaseVNode("img", {
                    src: userAvatarLarge.value,
                    alt: "用户头像"
                  }, null, 8, _hoisted_41)
                ]),
                createBaseVNode("div", _hoisted_42, [
                  createBaseVNode("div", _hoisted_43, toDisplayString((_b = unref(authStore).user) == null ? void 0 : _b.email), 1),
                  createBaseVNode("div", _hoisted_44, "余额: ¥" + toDisplayString(formatMoney((_c = unref(authStore).user) == null ? void 0 : _c.balance)), 1)
                ])
              ]),
              _cache[18] || (_cache[18] = createBaseVNode("div", { class: "dropdown-divider" }, null, -1)),
              createBaseVNode("div", _hoisted_45, [
                createBaseVNode("button", {
                  class: "dropdown-item",
                  onClick: _cache[3] || (_cache[3] = ($event) => handleUserMenuSelect("profile"))
                }, _cache[15] || (_cache[15] = [
                  createBaseVNode("svg", {
                    width: "16",
                    height: "16",
                    viewBox: "0 0 24 24",
                    fill: "none"
                  }, [
                    createBaseVNode("path", {
                      d: "M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21",
                      stroke: "currentColor",
                      "stroke-width": "2",
                      "stroke-linecap": "round",
                      "stroke-linejoin": "round"
                    }),
                    createBaseVNode("circle", {
                      cx: "12",
                      cy: "7",
                      r: "4",
                      stroke: "currentColor",
                      "stroke-width": "2"
                    })
                  ], -1),
                  createTextVNode(" 个人资料 ")
                ])),
                _cache[17] || (_cache[17] = createBaseVNode("div", { class: "dropdown-divider" }, null, -1)),
                createBaseVNode("button", {
                  class: "dropdown-item danger",
                  onClick: _cache[4] || (_cache[4] = ($event) => handleUserMenuSelect("logout"))
                }, _cache[16] || (_cache[16] = [
                  createBaseVNode("svg", {
                    width: "16",
                    height: "16",
                    viewBox: "0 0 24 24",
                    fill: "none"
                  }, [
                    createBaseVNode("path", {
                      d: "M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9",
                      stroke: "currentColor",
                      "stroke-width": "2",
                      "stroke-linecap": "round",
                      "stroke-linejoin": "round"
                    }),
                    createBaseVNode("polyline", {
                      points: "16,17 21,12 16,7",
                      stroke: "currentColor",
                      "stroke-width": "2",
                      "stroke-linecap": "round",
                      "stroke-linejoin": "round"
                    }),
                    createBaseVNode("line", {
                      x1: "21",
                      y1: "12",
                      x2: "9",
                      y2: "12",
                      stroke: "currentColor",
                      "stroke-width": "2",
                      "stroke-linecap": "round",
                      "stroke-linejoin": "round"
                    })
                  ], -1),
                  createTextVNode(" 退出登录 ")
                ]))
              ])
            ])
          ])) : createCommentVNode("", true)
        ], 4),
        isGiftcardEnabled.value ? (openBlock(), createBlock(GiftcardRedeemModal, {
          key: 0,
          show: showGiftcardModal.value,
          "onUpdate:show": _cache[7] || (_cache[7] = ($event) => showGiftcardModal.value = $event),
          onSuccess: handleGiftcardSuccess
        }, null, 8, ["show"])) : createCommentVNode("", true)
      ], 64);
    };
  }
});
const DashboardLayout = /* @__PURE__ */ _export_sfc(_sfc_main$2, [["__scopeId", "data-v-3b39f767"]]);
const _hoisted_1 = { class: "mobile-dashboard" };
const _hoisted_2 = { class: "mobile-header" };
const _hoisted_3 = { class: "header-content" };
const _hoisted_4 = { class: "user-avatar" };
const _hoisted_5 = ["src"];
const _hoisted_6 = { class: "user-info" };
const _hoisted_7 = { class: "user-name" };
const _hoisted_8 = { class: "user-balance" };
const _hoisted_9 = { class: "mobile-content" };
const _hoisted_10 = { class: "nav-content" };
const _hoisted_11 = { class: "nav-items-container" };
const _hoisted_12 = ["onClick"];
const _hoisted_13 = { class: "nav-icon" };
const _hoisted_14 = { class: "nav-label" };
const _hoisted_15 = ["onClick"];
const _hoisted_16 = { class: "nav-icon" };
const _hoisted_17 = { class: "nav-label" };
const _hoisted_18 = { class: "nav-icon" };
const _hoisted_19 = {
  width: "24",
  height: "24",
  viewBox: "0 0 24 24",
  fill: "none"
};
const _hoisted_20 = {
  key: 0,
  d: "M12 5V19M5 12H19",
  stroke: "currentColor",
  "stroke-width": "2",
  "stroke-linecap": "round",
  "stroke-linejoin": "round"
};
const _hoisted_21 = {
  key: 1,
  d: "M18 6L6 18M6 6L18 18",
  stroke: "currentColor",
  "stroke-width": "2",
  "stroke-linecap": "round",
  "stroke-linejoin": "round"
};
const _hoisted_22 = { class: "nav-label" };
const _hoisted_23 = { class: "panel-header" };
const _hoisted_24 = { class: "user-avatar-large" };
const _hoisted_25 = ["src"];
const _hoisted_26 = { class: "user-details" };
const _hoisted_27 = { class: "panel-actions" };
const _sfc_main$1 = /* @__PURE__ */ defineComponent({
  __name: "MobileDashboardLayout",
  setup(__props) {
    const router = useRouter();
    const route = useRoute();
    useMessage();
    const authStore = useAuthStore();
    const showUserPanel = ref(false);
    const showMoreMenu = ref(false);
    const activeKey = computed(() => route.name);
    const userAvatar = computed(() => {
      var _a;
      const email = ((_a = authStore.user) == null ? void 0 : _a.email) || "";
      return generateAvatar(email, 48);
    });
    const isInviteEnabled = computed(() => {
      var _a, _b;
      return ((_b = (_a = window.V2BOARD_CONFIG) == null ? void 0 : _a.FEATURES) == null ? void 0 : _b.INVITE_ENABLED) !== false;
    });
    const isTicketEnabled = computed(() => {
      var _a, _b;
      return ((_b = (_a = window.V2BOARD_CONFIG) == null ? void 0 : _a.FEATURES) == null ? void 0 : _b.TICKET_ENABLED) !== false;
    });
    const isTrafficDetailsEnabled = computed(() => {
      var _a, _b;
      return ((_b = (_a = window.V2BOARD_CONFIG) == null ? void 0 : _a.FEATURES) == null ? void 0 : _b.TRAFFIC_DETAILS_ENABLED) !== false;
    });
    const mainNavItems = [
      { key: "Dashboard", label: "首页", icon: HomeOutline },
      { key: "Plans", label: "套餐", icon: CloudDownloadOutline },
      { key: "Servers", label: "节点", icon: ServerOutline },
      { key: "Orders", label: "订单", icon: ReceiptOutline }
    ];
    const allNavItems = [
      { key: "Dashboard", label: "首页", icon: HomeOutline },
      { key: "Plans", label: "套餐", icon: CloudDownloadOutline },
      { key: "Servers", label: "节点", icon: ServerOutline },
      { key: "Orders", label: "订单", icon: ReceiptOutline },
      { key: "Invite", label: "邀请", icon: PersonAddOutline },
      { key: "Tickets", label: "工单", icon: ChatbubbleEllipsesOutline },
      { key: "TrafficDetails", label: "流量明细", icon: StatsChartOutline },
      { key: "Profile", label: "个人资料", icon: PersonOutline },
      { key: "Docs", label: "使用文档", icon: DocumentTextOutline }
    ];
    const handleNavClick = (key) => {
      router.push({ name: key });
      showMoreMenu.value = false;
    };
    const handleUserAction = (action) => {
      showUserPanel.value = false;
      switch (action) {
        case "profile":
          router.push({ name: "Profile" });
          break;
        case "logout":
          authStore.logout();
          router.push("/login");
          break;
      }
    };
    const formatMoney = (amount) => {
      if (!amount) return "0.00";
      return (amount / 100).toFixed(2);
    };
    return (_ctx, _cache) => {
      var _a, _b, _c, _d;
      const _component_router_view = resolveComponent("router-view");
      return openBlock(), createElementBlock("div", _hoisted_1, [
        createBaseVNode("div", _hoisted_2, [
          createBaseVNode("div", _hoisted_3, [
            createBaseVNode("div", {
              class: "user-section",
              onClick: _cache[0] || (_cache[0] = ($event) => showUserPanel.value = !showUserPanel.value)
            }, [
              createBaseVNode("div", _hoisted_4, [
                createBaseVNode("img", {
                  src: userAvatar.value,
                  alt: "用户头像"
                }, null, 8, _hoisted_5),
                _cache[6] || (_cache[6] = createBaseVNode("div", { class: "online-indicator" }, null, -1))
              ]),
              createBaseVNode("div", _hoisted_6, [
                createBaseVNode("div", _hoisted_7, toDisplayString(((_a = unref(authStore).user) == null ? void 0 : _a.email) || "用户"), 1),
                createBaseVNode("div", _hoisted_8, "余额: ¥" + toDisplayString(formatMoney((_b = unref(authStore).user) == null ? void 0 : _b.balance)), 1)
              ])
            ]),
            _cache[7] || (_cache[7] = createBaseVNode("div", { class: "header-actions" }, null, -1))
          ])
        ]),
        createBaseVNode("div", _hoisted_9, [
          createVNode(_component_router_view)
        ]),
        createBaseVNode("div", {
          class: normalizeClass(["mobile-bottom-nav", { "expanded": showMoreMenu.value }])
        }, [
          _cache[8] || (_cache[8] = createBaseVNode("div", { class: "nav-background" }, null, -1)),
          createBaseVNode("div", _hoisted_10, [
            createBaseVNode("div", _hoisted_11, [
              !showMoreMenu.value ? (openBlock(), createElementBlock(Fragment, { key: 0 }, renderList(mainNavItems, (item) => {
                return createBaseVNode("div", {
                  key: item.key,
                  class: normalizeClass(["nav-item nav-item-collapsed", { "active": activeKey.value === item.key }]),
                  onClick: ($event) => handleNavClick(item.key)
                }, [
                  createBaseVNode("div", _hoisted_13, [
                    createVNode(unref(NIcon), {
                      component: item.icon,
                      size: 24
                    }, null, 8, ["component"])
                  ]),
                  createBaseVNode("span", _hoisted_14, toDisplayString(item.label), 1)
                ], 10, _hoisted_12);
              }), 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, renderList(allNavItems, (item) => {
                return withDirectives(createBaseVNode("div", {
                  key: item.key,
                  class: normalizeClass(["nav-item nav-item-expanded", { "active": activeKey.value === item.key }]),
                  onClick: ($event) => handleNavClick(item.key)
                }, [
                  createBaseVNode("div", _hoisted_16, [
                    createVNode(unref(NIcon), {
                      component: item.icon,
                      size: 24
                    }, null, 8, ["component"])
                  ]),
                  createBaseVNode("span", _hoisted_17, toDisplayString(item.label), 1)
                ], 10, _hoisted_15), [
                  [vShow, (item.key !== "Invite" || isInviteEnabled.value) && (item.key !== "Tickets" || isTicketEnabled.value) && (item.key !== "TrafficDetails" || isTrafficDetailsEnabled.value)]
                ]);
              }), 64))
            ]),
            createBaseVNode("div", {
              class: "more-button",
              onClick: _cache[1] || (_cache[1] = ($event) => showMoreMenu.value = !showMoreMenu.value)
            }, [
              createBaseVNode("div", _hoisted_18, [
                (openBlock(), createElementBlock("svg", _hoisted_19, [
                  !showMoreMenu.value ? (openBlock(), createElementBlock("path", _hoisted_20)) : (openBlock(), createElementBlock("path", _hoisted_21))
                ]))
              ]),
              createBaseVNode("span", _hoisted_22, toDisplayString(showMoreMenu.value ? "收起" : "更多"), 1)
            ])
          ])
        ], 2),
        showUserPanel.value ? (openBlock(), createElementBlock("div", {
          key: 0,
          class: "user-panel-overlay",
          onClick: _cache[5] || (_cache[5] = ($event) => showUserPanel.value = false)
        }, [
          createBaseVNode("div", {
            class: "user-panel",
            onClick: _cache[4] || (_cache[4] = withModifiers(() => {
            }, ["stop"]))
          }, [
            createBaseVNode("div", _hoisted_23, [
              createBaseVNode("div", _hoisted_24, [
                createBaseVNode("img", {
                  src: userAvatar.value,
                  alt: "用户头像"
                }, null, 8, _hoisted_25)
              ]),
              createBaseVNode("div", _hoisted_26, [
                createBaseVNode("h3", null, toDisplayString((_c = unref(authStore).user) == null ? void 0 : _c.email), 1),
                createBaseVNode("p", null, "余额: ¥" + toDisplayString(formatMoney((_d = unref(authStore).user) == null ? void 0 : _d.balance)), 1)
              ])
            ]),
            createBaseVNode("div", _hoisted_27, [
              createBaseVNode("button", {
                class: "panel-btn",
                onClick: _cache[2] || (_cache[2] = ($event) => handleUserAction("profile"))
              }, _cache[9] || (_cache[9] = [
                createBaseVNode("svg", {
                  width: "20",
                  height: "20",
                  viewBox: "0 0 24 24",
                  fill: "none"
                }, [
                  createBaseVNode("path", {
                    d: "M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21",
                    stroke: "currentColor",
                    "stroke-width": "2",
                    "stroke-linecap": "round",
                    "stroke-linejoin": "round"
                  }),
                  createBaseVNode("circle", {
                    cx: "12",
                    cy: "7",
                    r: "4",
                    stroke: "currentColor",
                    "stroke-width": "2",
                    "stroke-linecap": "round",
                    "stroke-linejoin": "round"
                  })
                ], -1),
                createTextVNode(" 个人资料 ")
              ])),
              createBaseVNode("button", {
                class: "panel-btn danger",
                onClick: _cache[3] || (_cache[3] = ($event) => handleUserAction("logout"))
              }, _cache[10] || (_cache[10] = [
                createBaseVNode("svg", {
                  width: "20",
                  height: "20",
                  viewBox: "0 0 24 24",
                  fill: "none"
                }, [
                  createBaseVNode("path", {
                    d: "M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9",
                    stroke: "currentColor",
                    "stroke-width": "2",
                    "stroke-linecap": "round",
                    "stroke-linejoin": "round"
                  }),
                  createBaseVNode("polyline", {
                    points: "16,17 21,12 16,7",
                    stroke: "currentColor",
                    "stroke-width": "2",
                    "stroke-linecap": "round",
                    "stroke-linejoin": "round"
                  }),
                  createBaseVNode("line", {
                    x1: "21",
                    y1: "12",
                    x2: "9",
                    y2: "12",
                    stroke: "currentColor",
                    "stroke-width": "2",
                    "stroke-linecap": "round",
                    "stroke-linejoin": "round"
                  })
                ], -1),
                createTextVNode(" 退出登录 ")
              ]))
            ])
          ])
        ])) : createCommentVNode("", true)
      ]);
    };
  }
});
const MobileDashboardLayout = /* @__PURE__ */ _export_sfc(_sfc_main$1, [["__scopeId", "data-v-8e2af3f6"]]);
const _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "ResponsiveLayout",
  setup(__props) {
    const currentLayout = ref(shouldUseMobileLayout() ? MobileDashboardLayout : DashboardLayout);
    let unwatchDevice = null;
    onMounted(() => {
      unwatchDevice = watchDeviceChange((useMobile) => {
        currentLayout.value = useMobile ? MobileDashboardLayout : DashboardLayout;
      });
    });
    onUnmounted(() => {
      if (unwatchDevice) {
        unwatchDevice();
      }
    });
    return (_ctx, _cache) => {
      return openBlock(), createBlock(resolveDynamicComponent(currentLayout.value));
    };
  }
});
export {
  _sfc_main as default
};
